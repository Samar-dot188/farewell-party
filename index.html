<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Farewell Tribute</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background: #111;
      font-family: 'Courier New', Courier, monospace;
    }

    canvas {
      display: block;
      background: linear-gradient(to top, #444, #222);
      opacity: 0;
      transition: opacity 2s ease;
    }

    #message {
      position: absolute;
      bottom: 40px;
      width: 100%;
      text-align: center;
      font-size: 1.5em;
      line-height: 1.8;
      color: #00ffff;
      white-space: pre-line;
      opacity: 0;
      transition: opacity 0.8s ease-in-out;
      padding: 0 20px;
    }

    #startBtn {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      padding: 1em 2em;
      font-size: 1.2em;
      background: #00ffff;
      color: #111;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      z-index: 10;
      box-shadow: 0 0 10px #00ffff;
    }
  </style>
</head>
<body>
  <canvas id="bgCanvas"></canvas>
  <div id="message"></div>
  <button id="startBtn">Start Tribute</button>

  <script>
    const canvas = document.getElementById('bgCanvas');
    const ctx = canvas.getContext('2d');
    const messageBox = document.getElementById('message');
    const startBtn = document.getElementById('startBtn');

    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }

    resizeCanvas();
    window.addEventListener('resize', resizeCanvas);

    // Floating Stars
    const stars = Array.from({ length: 100 }, () => ({
      x: Math.random() * canvas.width,
      y: Math.random() * canvas.height,
      r: Math.random() * 2 + 0.5,
      speed: Math.random() * 0.5 + 0.2
    }));

    function drawStars() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.fillStyle = '#fff';
      stars.forEach(star => {
        ctx.beginPath();
        ctx.arc(star.x, star.y, star.r, 0, Math.PI * 2);
        ctx.fill();
        star.y += star.speed;
        if (star.y > canvas.height) {
          star.y = 0;
          star.x = Math.random() * canvas.width;
        }
      });
      requestAnimationFrame(drawStars);
    }

    // Typewriter Message
    const messageText = [
      "Dear Teacher,",
      "You've taught us more than just ICT.",
      "You showed us how to think, explore, and be curious.",
      "We'll miss your jokes during class and your endless patience!",
      "From formatting Word docs...",
      "To understanding algorithms...",
      "You made computers FUN.",
      "Here’s a virtual standing ovation from all of us! 👏👏👏",
      "With love, from Grade 6 💻💙",
      "Goodbye and best wishes on your next adventure!",
      "Thank You!"
    ];

    let index = 0;
    let charIndex = 0;
    let currentLine = '';

    function typeWriter() {
      messageBox.style.opacity = 1;

      if (index < messageText.length) {
        const line = messageText[index];

        if (charIndex < line.length) {
          currentLine += line.charAt(charIndex);
          messageBox.textContent = messageBox.textContent.replace(/\n*$/, '') + currentLine + '\n';
          charIndex++;
          setTimeout(typeWriter, 50);
        } else {
          currentLine = '';
          charIndex = 0;
          index++;
          setTimeout(typeWriter, 800);
        }
      } else {
        messageBox.textContent += "\n💖 The End 💖";
        setTimeout(() => {
          canvas.style.opacity = 0.3;
          messageBox.innerHTML += "<br><br><span style='font-size:2em; color:#FFD700;'>🎓 Thank You, Teacher! 🎓</span>";
        }, 2000);
      }
    }

    startBtn.addEventListener('click', () => {
      startBtn.style.display = 'none';
      canvas.style.opacity = 1;
      typeWriter();
    });

    window.addEventListener('keydown', (e) => {
      if (e.key === 'f' && index === 0 && startBtn.style.display !== 'none') {
        startBtn.click();
      }
    });

    drawStars();
  </script>
</body>
</html>
